/* OGX.JS FlipBook@1.0.0 */
require("FlipBook","Uxi","Placeholder","Touch");OGX.FlipBook=function(o){construct(this,"FlipBook");"use strict";var _=this;var e=o;var a;var l=200;var f=0;this.ux=function(o){if(o){this.el.on(this.touch.down,".ogx_flip_book_container",i)}else{this.el.off(this.touch.down,".ogx_flip_book_container",i)}};function i(o){var i=$(this);l++;if(!i.hasClass("ogx_flip_book_flip")){f++;i.css("z-index",l).addClass("ogx_flip_book_flip")}else{f--;i.css("z-index",l-1).removeClass("ogx_flip_book_flip")}if(f===e["node:OML"].length+1){_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_open").addClass("ogx_flip_book_end")}else if(f){_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_end").addClass("ogx_flip_book_open")}else{_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_end ogx_flip_book_open")}a.trigger(OGX.FlipBook.FLIP,f)}function s(){var o="";var i;var _=Math.ceil((e["node:OML"].length-1)/2);for(var l=0;l<_;l++){i=100-l;o+='<div class="ogx_flip_book_container" data-page="'+l+'" style="z-index:'+i+';">';o+='<div class="ogx_flip_book_page ogx_flip_book_front"></div>';o+='<div class="ogx_flip_book_page ogx_flip_book_back"></div>';o+="</div>"}a.html(o)}function p(){var o=[];for(var i=0;i<e["node:OML"].length;i++){o.push('.ogx_flip_book[data-ogx-id="'+_.id+'"] > .ogx_flip_book_container[data-page="'+i+'"] > .ogx_flip_book_front');o.push('.ogx_flip_book[data-ogx-id="'+_.id+'"] > .ogx_flip_book_container[data-page="'+i+'"] > .ogx_flip_book_back')}_.placeholders(e,o)}function n(){a=_.el;a.addClass("ogx_flip_book");p();s()}n()};OGX.FlipBook.FLIP="ogx_flip_book_flip";