/* OGX.JS FlipBook@1.1.0 */
require("FlipBook","Uxi","Placeholder","Touch");OGX.FlipBook=function(o){construct(this,"FlipBook");"use strict";var _=this;var l=o;var n;var e=200;var a=0;this.ux=function(o){if(o){this.el.on(this.touch.down,".ogx_flip_book_container",i)}else{this.el.off(this.touch.down,".ogx_flip_book_container",i)}};this.index=function(o,i){if(typeof o==="undefined"){return a}if(typeof i==="undefined"){i=200}for(var _=a;_<o;_++){f(_,i)}return this};function f(o,i){setTimeout(()=>{_.el.find('.ogx_flip_book_container[data-page="'+o+'"]').trigger(_.touch.down)},i*o)}function i(o){var i=$(this);e++;if(!i.hasClass("ogx_flip_book_flip")){a++;i.css("z-index",e).addClass("ogx_flip_book_flip")}else{a--;i.css("z-index",e-1).removeClass("ogx_flip_book_flip")}if(a===l["node:OML"].length+1){_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_open").addClass("ogx_flip_book_end")}else if(a){_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_end").addClass("ogx_flip_book_open")}else{_.el.find(".ogx_flip_book").removeClass("ogx_flip_book_end ogx_flip_book_open")}n.trigger(OGX.FlipBook.FLIP,a)}function t(){var o="";var i;var _=Math.ceil((l["node:OML"].length-1)/2);for(var e=0;e<_;e++){i=100-e;o+='<div class="ogx_flip_book_container" data-page="'+e+'" style="z-index:'+i+';">';o+='<div class="ogx_flip_book_page ogx_flip_book_front"></div>';o+='<div class="ogx_flip_book_page ogx_flip_book_back"></div>';o+="</div>"}n.html(o)}function p(){var o=[];for(var i=0;i<l["node:OML"].length;i++){o.push('.ogx_flip_book[data-ogx-id="'+_.id+'"] > .ogx_flip_book_container[data-page="'+i+'"] > .ogx_flip_book_front');o.push('.ogx_flip_book[data-ogx-id="'+_.id+'"] > .ogx_flip_book_container[data-page="'+i+'"] > .ogx_flip_book_back')}_.placeholders(l,o)}function s(){n=_.el;n.addClass("ogx_flip_book");p();t()}s()};OGX.FlipBook.FLIP="FlipBookFlip";