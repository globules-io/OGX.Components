/* OGX.JS FlexCells@1.0.2 */
require("FlexCells","Uxi","Template","Touch","Placeholder");OGX.FlexCells=function(i){construct(this,"FlexCells");"use strict";var s=this;var e={axis:"x",min:10,template:null,children:["50%","30%","20%"]};var t=OGX.Data.merge(i,e,false);var c=this.el;var n={x:0,y:0,m:0};var r=null;this.construct=function(){};this.ux=function(e){if(e){}else{}};function l(){var e="";for(var l=0;l<t.children.length;l++){e+='<span class="ogx_flex_cell" data-cell="'+l+'" style="flex-basis:'+t.children[l]+'"></span>';if(l<t.children.length-1){e+='<span class="ogx_flex_cell_resize"></span>'}}c.html(e)}function a(e){r=$(e.target);n.x=0;n.y=0;n.m=0}function x(e){var l;if(i.axis==="x"){l=(e.distX-n.m)*100/c.width();n.m=e.distX}else{l=(e.distY-n.m)*100/c.height();n.m=e.distY}var s=Number(r.prev().css("flex-basis").split("%")[0]);var a=Number(r.next().css("flex-basis").split("%")[0]);if(s+l>t.min&&a-l>t.min){r.prev().css("flex-basis",s+l+"%");r.next().css("flex-basis",a-l+"%")}}function f(){var e={id:"move",min:0,target:".ogx_flex_cell_resize",cb_down:a,cb_move:x,capture:true};if(t.axis==="x"){e.x=true}else{e.y=true}s.touch.add("Move",e)}function o(){var e=c.children();var s=e.length;e.each(function(e,l){$(l).addClass("ogx_flex_cell").attr("data-cell",e).css("flex-basis",t.children[e]);if(e<s-1){$(l).after('<span class="ogx_flex_cell_resize"></span>')}})}function d(){var e=[];for(var l=0;l<t.children.length;l++){e.push('.ogx_flex_cells[data-ogx-id="'+s.id+'"] > .ogx_flex_cell[data-cell="'+l+'"]')}s.placeholders(t,e)}function u(){c.addClass("ogx_flex_cells");if(t.axis==="x"){c.addClass("ogx_flex_cells_row")}else{c.addClass("ogx_flex_cells_col")}if(t.template){o()}d();if(!t.template){l()}f()}u()};