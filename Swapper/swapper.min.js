/* Swapper 1.0.0 */ 
require("Swapper","Uxi","Touch"),OGX.Swapper=function(a){construct(this,"Swapper");var e,t=this,r=OGX.Data.merge({map:[!0,!0,!0]},a),i=0,s=0,n=0,o=!1,p=0,d=1,c=1;function l(){t.observeOnce(null,(function(){e=t.el.children(".ogx_swapper_container"),n=t.el.width(),e.css({transform:"translateX("+-n+"px)"}),c=-1,i=s=-n}));var a='<div class="ogx_swapper_container"><div class="ogx_swapper_block" data-id="0">'+g(0,r.map[0],!1)+'</div><div class="ogx_swapper_block" data-id="1">'+g(1,r.map[1],!1)+'</div><div class="ogx_swapper_block" data-id="2">'+g(2,r.map[2],!1)+"</div></div>";t.el.html(a)}function h(a){if(s){var r=Math.floor(-1*(p-(s-i)));t.el.trigger(OGX.Swapper.MOVED,{distX:r})}i=s,p=0,$("body").removeClass("ogx_swapper_grabbing"),e.removeClass("ogx_swapper_grabbing")}function u(a){$("body").addClass("ogx_swapper_grabbing"),e.addClass("ogx_swapper_grabbing"),o=!1}function b(a){var l,h=!1,u=0;-1===a.dirX&&Math.abs(a.distX+i+p)>n+n/2&&o!==a.dirX?(l=e.children(".ogx_swapper_block").first().detach(),e.append(l),p+=n,o=a.dirX,d++,h=!0):1===a.dirX&&Math.abs(a.distX+i+p)<n/2&&o!==a.dirX&&(l=e.children(".ogx_swapper_block").last().detach(),e.prepend(l),p-=n,o=a.dirX,d--,h=!0),h&&(u=d-a.dirX,content=r.map[f(Math.abs(u))],g(u,content,l)),s=a.distX+i+p,c=s/n,e.css({transform:"translateX("+s+"px)"}),t.el.trigger(OGX.Swapper.MOVING,a)}function g(a,e,t){var r=f(a);switch(typeof e){case"string":if(!t)return e;t.html(e);break;case"function":if(res=e({abs:a,rel:r}),res){if(!t)return res;t.html(res)}}}function f(a){return a%r.map.length}this.construct=function(){mw=this.el.width(),this.touch.add("Move",{id:"band_move",x:!0,y:!1,min:0,cb_down:u,cb_up:h,cb_move:b,state:"manual",capture:!1})},this.enable=function(){this.touch.enable()},this.disable=function(){this.touch.disable()},this.resize=function(){n=this.el.width(),s=i=c*n,e.css({transform:"translateX("+s+"px)"})},this.map=function(a){if(void 0===a)return r.map;r.map=a,l()},this.move=function(a){b(a)},this.done=function(){i=s,o=!1,p=0},this.render=l,t.el.addClass("ogx_swapper"),l()},OGX.Swapper.MOVING="swapperMoving",OGX.Swapper.MOVED="swapperMoved";