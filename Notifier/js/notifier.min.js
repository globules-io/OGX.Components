/* OGX.JS Notifier@1.3.0 */
OGX.Notifier=function(t){"use strict";var e=this;typeof t==="undefined"?t={}:null;var i={template:'<div class="ogx_notification {{$css}}" style="{{$style}}" data-id="{{$__id}}">{{$message}}</div>',message:'<span class="title">{{$title}}</span><span class="body">{{$body}}</span>',el:"body",position:"bottom",offset:10,read_time:4e3,interval:1e3};var o={css:"",zindex:0,callback:null};var n=OGX.Data.merge(t,i,{copy:true});var a=$(n.el);var s=[];var r=null;var f=false;var l=0;var c=1;this.onFocus=function(){d(true);p(true)};this.onBlur=function(){d(false);p(false)};this.add=function(t){var e=OGX.Data.merge(t,o);e.__id=c;c++;s.push(e);if(s.length===1&&!f){v()}else{p(true)}return e};this.clear=function(){if(f){g(false)}s=[]};function d(t){if(t){a.on("click",".ogx_notification",u)}else{a.off("click",".ogx_notification",u)}}function u(t){if(f){a.trigger(OGX.Notifier.TAP,f);if(f.callback){f.callback()}}}function p(t){if(t){if(!r&&s.length){r=setInterval(v,n.interval)}}else{if(r){clearInterval(r);r=null}}}function v(){if(!s.length){p(false);return}if(!f){f=s.shift();f.style="";if(!f.zindex){f.zindex=OGX.Core.topIndex()+1}f.style="z-index:"+f.zindex;switch(n.position){case"top":f.y=-200;break;case"bottom":f.y=$(window).height()+10;break}f.style+="; top:"+f.y+"px;";var t=n.template.replace(/{{\$message}}/gi,n.message);t=OGX.Templater.make(t,f);a.append(t);setTimeout(function(){var t=a.children(".ogx_notification").first();l=t.outerHeight(true);if(n.position==="top"){t.css("top",-(l+n.offset)+"px")}g(true)},100)}}function g(t){if(!f){return}var e=a.children(".ogx_notification").first();if(t){e.on("transitionend",function(){e.off("transitionend");setTimeout(function(){g(false)},n.read_time)});var i;e.addClass("ogx_notifier_show");switch(n.position){case"top":i=l+25;break;case"bottom":i=(l+10)*-1;break}e.addClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}else{e.on("transitionend",function(){e.off("transitionend");f=false;e.remove()});var i;switch(n.position){case"top":i=(l+10)*-1;break;case"bottom":i=l+10;break}e.addClass("ogx_notifier_hide").removeClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}}this.onFocus()};OGX.Notifier.TAP="NotifierTap";