/* OGX.JS Notifier@1.2.0 */
OGX.Notifier=function(t){"use strict";var e=this;typeof t==="undefined"?t={}:null;var i={template:'<div class="ogx_notification {{$css}}" style="{{$style}}" data-id="{{$__id}}">{{$message}}</div>',message:'<span class="title">{{$title}}</span><span class="body">{{$body}}</span>',el:"body",position:"bottom",read_time:4e3,interval:1e3};var n={css:"",zindex:0,callback:null};var o=OGX.Data.merge(t,i,false,true);var a=$(o.el);var s=[];var r=null;var l=false;var f=0;var c=1;this.onFocus=function(){d(true);p(true)};this.onBlur=function(){d(false);p(false)};this.add=function(t){var e=OGX.Data.merge(t,n);e.__id=c;c++;s.push(e);if(s.length===1){v()}else{p(true)}};this.clear=function(){s=[]};function d(t){if(t){a.on("click",".ogx_notification",u)}else{a.off("click",".ogx_notification",u)}}function u(t){if(l){a.trigger(OGX.Notifier.TAP,l);if(l.callback){l.callback()}}}function p(t){if(t){if(!r&&s.length){r=setInterval(v,o.interval)}}else{if(r){clearInterval(r);r=null}}}function v(){if(!s.length){p(false);return}if(!l){l=s.shift();l.style="";if(!l.zindex){l.zindex=OGX.Core.topIndex()+1}l.style="z-index:"+l.zindex;switch(o.position){case"top":l.y=-200;break;case"bottom":l.y=$(window).height()+10;break}l.style+="; top:"+l.y+"px;";var t=o.template.replace(/{{\$message}}/gi,o.message);t=OGX.Templater.make(t,l);a.append(t);setTimeout(function(){var t=a.children(".ogx_notification").first();f=t.outerHeight(true);if(o.position==="top"){t.css("top",-(f+10)+"px")}g(true)},100)}}function g(t){if(!l){return}var e=a.children(".ogx_notification").first();if(t){e.on("transitionend",function(){e.off("transitionend");setTimeout(function(){g(false)},o.read_time)});var i;e.addClass("ogx_notifier_show");switch(o.position){case"top":i=f+25;break;case"bottom":i=(f+10)*-1;break}e.addClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}else{e.on("transitionend",function(){e.off("transitionend");l=false;e.remove()});var i;switch(o.position){case"top":i=(f+10)*-1;break;case"bottom":i=f+10;break}e.addClass("ogx_notifier_hide").removeClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}}this.onFocus()};OGX.Notifier.TAP="NotifierTap";