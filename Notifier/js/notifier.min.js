/* OGX.JS Notifier@1.0.5 */
OGX.Notifier=function(e){"use strict";var t=this;typeof e==="undefined"?e={}:null;var i={template:'<div class="ogx_notification {{$css}}" style="{{$style}}" data-id="{{$__id}}">{{$message}}</div>',message:'<span class="title">{{$title}}</span><span class="body">{{$body}}</span>',el:"body",position:"bottom",read_time:4e3,interval:1e3};var a={css:"",zindex:0};var n=OGX.Data.merge(e,i,false,true);var s=$(n.el);var o=[];var r=null;var f=false;var l=false;var c=0;var d=1;this.enable=function(){if(!f){this.enabled=true;f=true;u(true);h(true)}};this.disable=function(){if(f){this.enabled=false;f=false;u(false);h(false)}};this.add=function(e){var t=OGX.Data.merge(e,a);t.__id=d;d++;o.push(t);if(o.length===1){v()}else{h(true)}};this.clear=function(){o=[]};function u(e){if(e){s.on("click",".ogx_notification",p)}else{s.off("click",".ogx_notification",p)}}function p(e){if(l){s.trigger(OGX.Notifier.TAP,l)}}function h(e){if(e){if(!r&&o.length){r=setInterval(v,n.interval)}}else{if(r){clearInterval(r);r=null}}}function v(){if(!o.length){h(false);return}if(!l){l=o.shift();l.style="";if(!l.zindex){l.zindex=app.topIndex()+1}l.style="z-index:"+l.zindex;switch(n.position){case"top":l.y=-200;break;case"bottom":l.y=$(window).height()+10;break}l.style+="; top:"+l.y+"px;";var e=n.template.replace(/{{\$message}}/gi,n.message);e=OGX.Templater.make(e,l);s.append(e);setTimeout(function(){var e=s.children(".ogx_notification").first();c=e.outerHeight(true);if(n.position==="top"){e.css("top",-(c+10)+"px")}g(true)},100)}}function g(e){if(!l){return}var t=s.children(".ogx_notification").first();if(e){t.on("transitionend",function(){t.off("transitionend");setTimeout(function(){g(false)},n.read_time)});var i;t.addClass("ogx_notifier_show");switch(n.position){case"top":i=c+25;break;case"bottom":i=(c+10)*-1;break}t.addClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}else{t.on("transitionend",function(){t.off("transitionend");l=false;t.remove()});var i;switch(n.position){case"top":i=(c+10)*-1;break;case"bottom":i=c+10;break}t.addClass("ogx_notifier_hide").removeClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}}this.enable()};OGX.Notifier.TAP="NotifierTap";