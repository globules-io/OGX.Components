/* OGX.JS Notifier@1.0.6 */
OGX.Notifier=function(t){"use strict";var e=this;typeof t==="undefined"?t={}:null;var i={template:'<div class="ogx_notification {{$css}}" style="{{$style}}" data-id="{{$__id}}">{{$message}}</div>',message:'<span class="title">{{$title}}</span><span class="body">{{$body}}</span>',el:"body",position:"bottom",read_time:4e3,interval:1e3};var n={css:"",zindex:0};var o=OGX.Data.merge(t,i,false,true);var s=$(o.el);var a=[];var r=null;var f=false;var l=0;var c=1;this.onFocus=function(){d(true);p(true)};this.onBlur=function(){d(false);p(false)};this.add=function(t){var e=OGX.Data.merge(t,n);e.__id=c;c++;a.push(e);if(a.length===1){v()}else{p(true)}};this.clear=function(){a=[]};function d(t){if(t){s.on("click",".ogx_notification",u)}else{s.off("click",".ogx_notification",u)}}function u(t){if(f){s.trigger(OGX.Notifier.TAP,f)}}function p(t){if(t){if(!r&&a.length){r=setInterval(v,o.interval)}}else{if(r){clearInterval(r);r=null}}}function v(){if(!a.length){p(false);return}if(!f){f=a.shift();f.style="";if(!f.zindex){f.zindex=app.topIndex()+1}f.style="z-index:"+f.zindex;switch(o.position){case"top":f.y=-200;break;case"bottom":f.y=$(window).height()+10;break}f.style+="; top:"+f.y+"px;";var t=o.template.replace(/{{\$message}}/gi,o.message);t=OGX.Templater.make(t,f);s.append(t);setTimeout(function(){var t=s.children(".ogx_notification").first();l=t.outerHeight(true);if(o.position==="top"){t.css("top",-(l+10)+"px")}g(true)},100)}}function g(t){if(!f){return}var e=s.children(".ogx_notification").first();if(t){e.on("transitionend",function(){e.off("transitionend");setTimeout(function(){g(false)},o.read_time)});var i;e.addClass("ogx_notifier_show");switch(o.position){case"top":i=l+25;break;case"bottom":i=(l+10)*-1;break}e.addClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}else{e.on("transitionend",function(){e.off("transitionend");f=false;e.remove()});var i;switch(o.position){case"top":i=(l+10)*-1;break;case"bottom":i=l+10;break}e.addClass("ogx_notifier_hide").removeClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}}this.onFocus()};OGX.Notifier.TAP="NotifierTap";