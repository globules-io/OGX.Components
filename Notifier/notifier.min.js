/* OGX.JS Notifier@1.0.3 */
OGX.Notifier=function(e){"use strict";var t=this;typeof e==="undefined"?e={}:null;var i={template:'<div class="ogx_notification {{$css}}" style="{{$style}}" data-id="{{$__id}}">{{$message}}</div>',message:'<span class="title">{{$title}}</span><span class="body">{{$body}}</span>',el:"body",position:"bottom",read_time:4e3,interval:1e3};var a={css:"",zindex:0};var n=OGX.Data.merge(e,i,false,true);var s=$(n.el);var o=[];var r=null;var f=false;var l=false;var c=0;var d=1;this.enable=function(){if(!f){f=true;u(true);g(true)}};this.disable=function(){if(f){f=false;u(false);g(false)}};this.add=function(e){var t=OGX.Data.merge(e,a);t.__id=d;d++;o.push(t);if(o.length===1){p()}else{g(true)}};this.clear=function(){o=[]};function u(e){if(e){s.on("click",".ogx_notification",v)}else{s.off("click",".ogx_notification",v)}}function v(e){if(l){s.trigger(OGX.Notifier.TAP,l)}}function g(e){if(e){if(!r&&o.length){r=setInterval(p,n.interval)}}else{if(r){clearInterval(r);r=null}}}function p(){if(!o.length){g(false);return}if(!l){l=o.shift();l.style="";if(l.zindex){l.style="z-index:"+l.zindex}var e=n.template.replace(/{{\$message}}/gi,n.message);e=OGX.Templater.make(e,l);s.append(e);setTimeout(function(){c=s.children(".ogx_notification:first").outerHeight(true);m(true)},100)}}function m(e){if(!l){return}var t=s.children(".ogx_notification:first");if(e){t.on("transitionend",function(){t.off("transitionend");setTimeout(function(){m(false)},n.read_time)});var i;var a=t.addClass("ogx_notifier_show").position().top;switch(n.position){case"top":i=-a+10;break;case"bottom":i=(c+10)*-1;break}t.addClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}else{t.on("transitionend",function(){t.off("transitionend");l=false;t.remove()});var i;switch(n.position){case"top":i=(c+10)*-1;break;case"bottom":i=c+10;break}t.addClass("ogx_notifier_hide").removeClass("ogx_notifier_show").css({transform:"translateY("+i+"px)"})}}this.enable()};OGX.Notifier.TAP="NotifierTap";